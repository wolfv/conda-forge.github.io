"use strict";(self.webpackChunkcf_infra_docs=self.webpackChunkcf_infra_docs||[]).push([[4002],{25013:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>t,metadata:()=>c,toc:()=>i});var s=r(85893),o=r(11151);const t={},a="Clang now available as compiler for all platforms",c={permalink:"/news/2024/04/30/clang-everywhere",source:"@site/news/2024-04-30-clang-everywhere.md",title:"Clang now available as compiler for all platforms",description:'Our compiler stack per platform generally uses the "default" compiler for that',date:"2024-04-30T00:00:00.000Z",tags:[],hasTruncateMarker:!1,authors:[],frontMatter:{},unlisted:!1,prevItem:{title:"Azure macOS x64 runners will now default to macos-12",permalink:"/news/2024/05/02/bump-macos-12"},nextItem:{title:"The new conda-forge.org",permalink:"/news/2024/04/09/new-website"}},l={authorsImageUrls:[]},i=[];function p(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:['Our compiler stack per platform generally uses the "default" compiler for that\nplatform, see e.g. ',(0,s.jsx)(n.a,{href:"https://conda-forge.org/docs/maintainer/infrastructure/#compilers-and-runtimes",children:"here"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"In practice, this meant that"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"c_compiler:\n  - gcc         # [linux]\n  - clang       # [osx]\n  - vs2019      # [win]\ncxx_compiler:\n  - gxx         # [linux]\n  - clangxx     # [osx]\n  - vs2019      # [win]\n"})}),"\n",(0,s.jsx)(n.p,{children:"was the only possible choice for C/C++ compilers."}),"\n",(0,s.jsxs)(n.p,{children:["Recently, we finished adding preliminary support ",(0,s.jsx)(n.code,{children:"clang"})," / ",(0,s.jsx)(n.code,{children:"clangxx"})," as\nC/C++ compilers also on linux and windows, starting from clang 18.\nThis is still very fresh, so bugs are possible, and we ask not to change\nthe default compilers on feedstocks unless there are compelling reasons."]}),"\n",(0,s.jsxs)(n.p,{children:["In any case, it is now possible to use the following configuration in\n",(0,s.jsx)(n.code,{children:"recipe/conda_build_config.yaml"})," (note the lack of platform selectors):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"c_compiler:\n  - clang\nc_compiler_version:\n  - 18\ncxx_compiler:\n  - clangxx\ncxx_compiler_version:\n  - 18\n"})})]})}function m(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>a});var s=r(67294);const o={},t=s.createContext(o);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);